#include<iostream>
#include<string>
#include<cstring>
#include<sstream>
#include<vector>
#include <cstdlib>
using namespace std;
vector<string> inputall, label;
vector<int>lbnum; 
int entry = 8;
int reg[31];
string** bht;
int current = 0;//當前pc
int* miss;
int main() {
	reg[0] = 0;
	string input, temp;	
	int p, pc;
	getline(cin, input);
	int cou = 0;
	
	bht = new string*[entry];
	for (int i = 0; i < entry; ++i) 
		bht[i] = new string[5];
	for (int i = 0; i < entry; ++i){//初始
		bht[i][0] ="00";
		for (int j = 1; j < 5; ++j)
			bht[i][j] = "SN";
	}
	miss = new int[entry]();
	bool push = true;
	while (input[0] != cin.eof()) {
		push = true;
		p = input.find("//", 0); //解決註解
		if (p != input.npos) {
			input = input.substr(0, p);
			if (p == 0) {
				cou--;
				push = false;
			}
		}
		p = input.find(':', 0); //處理label
		if (p != input.npos) {
			label.push_back(input.substr(0, p));
			lbnum.push_back(cou);
			if (p + 1 < input.length()) {//若label與inst未分行
				input = input.substr(p + 1, input.length());
				if (input[0] == ' ')
					input = input.substr(1, input.length());
			}
			else {
				push = false;
				cou--;
			}
		}
		if(push)
			inputall.push_back(input);
		getline(cin, input);
		cou++;
	}
	while(current< inputall.size()){//執行
		if (inputall[current].find("ui", 0) != inputall[current].npos) {
			continue;
		}
		else if (inputall[current][0] == 'l' || inputall[current].find("i", 0) != inputall[current].npos || inputall[current].find("jalr", 0) != inputall[current].npos) {
			iType(inputall[current], current);
		}
		else if (inputall[current][0] == 's' && inputall[current].find(" ", 0) == 2) {
			continue;
		}
		else if (inputall[current][0] == 'b') {
			bType(inputall[current], current);
		}
		else if (inputall[current].find("jal", 0) != inputall[current].npos) {
			continue;
		}
		else {
			rType(inputall[current], current);
		}
		current++;
	}
}